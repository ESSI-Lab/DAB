<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <link rel="icon" href="./favicon.ico"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <meta name="theme-color" content="#000000"/>
  <meta name="description" content="HIS-Central SPARQL Ontology Navigator"/>
  <link rel="apple-touch-icon" href="./logo192.png"/>
  <link rel="manifest" href="./manifest.json"/>
  <title>HIS-Central Ontology Navigator</title>
  <link rel="stylesheet" href="../navigator.css"/>
</head>
<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root" class="navigator-container"></div>
  
  <script src="../sparql-navigator.js"></script>
  <script>
    // Load configuration and initialize navigator
    fetch('./config.json')
      .then(response => {
        if (!response.ok) {
          throw new Error(`Failed to load configuration: ${response.statusText}`);
        }
        return response.json();
      })
      .then(config => {
        const navigator = new SparqlNavigator(
          config.endpoint,
          'root',
          config.title
        );
        navigator.init().catch(err => {
          console.error('Failed to initialize navigator:', err);
          document.getElementById('root').innerHTML = 
            '<div style="color: red;">Error: ' + err.message + '</div>';
        });
      })
      .catch(err => {
        console.error('Failed to load configuration:', err);
        document.getElementById('root').innerHTML = 
          '<div style="color: red;">Error loading configuration: ' + err.message + '</div>';
      });
  </script>
</body>
</html>
