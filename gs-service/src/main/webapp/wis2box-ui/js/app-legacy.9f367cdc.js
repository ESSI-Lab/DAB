(function(){var t={2315:function(t,e,n){"use strict";n(6992),n(8674),n(9601),n(7727),n(9773);var a=n(9963),o=n(6252),r=n(7718),i=n(4883),s=n(6824),u=n(4454),l=n(9271),c=n(4162);function d(t,e,n,a,d,f){var m=(0,o.up)("app-header"),p=(0,o.up)("app-nav"),h=(0,o.up)("router-view"),g=(0,o.up)("app-footer");return(0,o.wg)(),(0,o.j4)(r.q,{id:"v-app"},{default:(0,o.w5)((function(){return[(0,o.Wm)(m,{app:""}),(0,o.Wm)(l.O,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(c.t,{class:"pa-2"},{default:(0,o.w5)((function(){return[(0,o.Wm)(s.o,{justify:"center"},{default:(0,o.w5)((function(){return[(0,o.Wm)(i._,{flat:"",width:"90%","max-width":"1130"},{default:(0,o.w5)((function(){return[(0,o.Wm)(u.s,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(p),(0,o.Wm)(l.O,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(h)]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1})]})),_:1}),(0,o.Wm)(g,{app:"",class:"pt-4"})]})),_:1})}n(8309);var f=n(3577),m=n(1666),p=n(8521),h=n(109),g={class:"app-footer"},w=["title","href","innerHTML"];function A(t,e,n,a,r,i){return(0,o.wg)(),(0,o.iD)("div",g,[(0,o.Wm)(m.c,{flat:"",height:"110"},{default:(0,o.w5)((function(){return[(0,o.Wm)(s.o,{justify:"center"},{default:(0,o.w5)((function(){return[(0,o.Wm)(p.D,{cols:"12"},{default:(0,o.w5)((function(){return[(0,o.Wm)(h.f,{cover:"",src:t.foot,"lazy-src":t.foot},null,8,["src","lazy-src"])]})),_:1}),(0,o.Wm)(p.D,{class:"primary text-center",cols:"12"},{default:(0,o.w5)((function(){return[(0,o._)("p",null,[(0,o.Uk)((0,f.zw)(t.$t("footer.powered_by"))+" ",1),(0,o._)("a",{title:t.name,href:t.home,innerHTML:t.name},null,8,w),(0,o.Uk)(" "+(0,f.zw)(t.version),1)])]})),_:1})]})),_:1})]})),_:1})])}var v="data:image/png;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAA8AAD/4QOBaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzExMSA3OS4xNTgzMjUsIDIwMTUvMDkvMTAtMDE6MTA6MjAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NTZmMGQ3M2YtOThjNC00ZGYyLWFlOTYtYTllYTMzZDgxNzMyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjBBOTg2Rjg4NDgyOTExRTY5OTNBQTg1QjA1REYwMTUyIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjBBOTg2Rjg3NDgyOTExRTY5OTNBQTg1QjA1REYwMTUyIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NTZmMGQ3M2YtOThjNC00ZGYyLWFlOTYtYTllYTMzZDgxNzMyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU2ZjBkNzNmLTk4YzQtNGRmMi1hZTk2LWE5ZWEzM2Q4MTczMiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pv/uAA5BZG9iZQBkwAAAAAH/2wCEAAYEBAQFBAYFBQYJBgUGCQsIBgYICwwKCgsKCgwQDAwMDAwMEAwODxAPDgwTExQUExMcGxsbHB8fHx8fHx8fHx8BBwcHDQwNGBAQGBoVERUaHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fH//AABEIAAsE/wMBEQACEQEDEQH/xABsAAEAAwEBAAAAAAAAAAAAAAAAAwYHBQgBAQEBAQEAAAAAAAAAAAAAAAAHBgQFEAEAAAQHAQAAAAAAAAAAAAAAArMENgGBsQODNAd0EQEAAQIHAAMAAAAAAAAAAAAAAgGygbGCM3M0BQQGB//aAAwDAQACEQMRAD8AypvGLAAAAAAAAAAAXbyW46n445u2n/6R0Ic0bJtX9P7UuOt0Wsooo4AAADlV3ajy0warzdiOOdU893tz020QO55IAAACtremoAAACxef3dQcsmNx/P2a4ZvX8Ltw1W1bIzqigAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPFTZMoAAAAAAAAAAAu3ktx1PxxzdtP/ANI6EOaNk2r+n9qXHW6LWUUUcAAAByq7tR5aYNV5uxHHOqee7256baIHc8kAAABW1vTUAAABYvP7uoOWTG4/n7NcM3r+F24aratkZ1RQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH//Z",_=JSON.parse('{"u2":"wis2box-ui","i8":"0.5.2","Xh":"https://github.com/wmo-im/wis2box-ui","nr":"https://docs.wis2box.wis.wmo.int"}'),y=(0,o.aZ)({name:"AppFooter",template:"#app-footer",data:function(){return{version:_.i8,name:_.u2,home:_.Xh,foot:v}}}),b=n(3744);const x=(0,b.Z)(y,[["render",A]]);var k=x,W=n(8796),T=n(3369),D=n(9234),O={class:"app-header"},M=["href"],j=["src"];function S(t,e,n,a,r,i){var u=(0,o.up)("token-auth"),l=(0,o.up)("select-locale");return(0,o.wg)(),(0,o.iD)("div",O,[(0,o.Wm)(W.L,{flat:"",height:"124"},{image:(0,o.w5)((function(){return[(0,o.Wm)(T.K,{fluid:"",class:"pt-0"},{default:(0,o.w5)((function(){return[(0,o.Wm)(h.f,{height:"110",cover:"",src:t.banner,"lazy-src":t.banner},null,8,["src","lazy-src"]),(0,o.Wm)(h.f,{cover:"",src:t.foot,"lazy-src":t.foot},null,8,["src","lazy-src"])]})),_:1})]})),default:(0,o.w5)((function(){return[(0,o.Wm)(c.t,{width:"90%","max-width":"1130",height:"100%",class:"mx-auto"},{default:(0,o.w5)((function(){return[(0,o.Wm)(T.K,{fluid:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(s.o,{align:"start","fill-height":""},{default:(0,o.w5)((function(){return[(0,o._)("a",{href:t.wis2,title:"wis2box"},[(0,o._)("img",{src:t.logo,class:"pl-6 my-3"},null,8,j)],8,M),(0,o.Wm)(D.C),(0,o.Wm)(u),(0,o.Wm)(l,{class:"pr-6"})]})),_:1})]})),_:1})]})),_:1})]})),_:1})])}var Z=n(2882),C=n(2329),P=n(1747),E=n(2127),H=n(4215),I={class:"select-locale"};function R(t,e,n,a,r,i){return(0,o.wg)(),(0,o.iD)("div",I,[(0,o.Wm)(H.T,null,{activator:(0,o.w5)((function(e){var n=e.props;return[(0,o.Wm)(Z.T,(0,o.dG)({color:"#FFFFFF",class:"font-weight-bold"},n),{default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(t.$t("language")),1)]})),_:2},1040)]})),default:(0,o.w5)((function(){return[(0,o.Wm)(C.i,null,{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.languages,(function(e,n){return(0,o.wg)(),(0,o.j4)(P.l,{key:"lang-".concat(e),onClick:function(e){return t.$i18n.locale=n}},{default:(0,o.w5)((function(){return[(0,o.Wm)(E.V,null,{default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(e),1)]})),_:2},1024)]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),_:1})])}var L=n(6084),z=(n(9720),n(1539),n(4747),n(3948),n(4916),n(4723),n(9150));function B(){var t=n(6657),e={};return t.keys().forEach((function(n){var a=n.match(/([\w-_]+)\./i);if(a&&a.length>1&&"_template"!==a[1]){var o=a[1];e[o]=t(n)}})),e}var U=(0,z.o)({legacy:!1,locale:"en",fallbackLocale:"fr",globalInjection:!0,messages:B()}),F=(0,o.aZ)({name:"SelectLocale",template:"#select-locale",computed:{languages:function(){for(var t={},e=0,n=Object.entries(B());e<n.length;e++){var a=(0,L.Z)(n[e],2),o=a[0],r=a[1];t[o]=r.language}return t}}});const N=(0,b.Z)(F,[["render",R]]);var $=N,Y=n(1888),V=n(1334),Q=n(3061),G={class:"token-auth"};function J(t,e,n,a,r,s){return(0,o.wg)(),(0,o.iD)("div",G,[(0,o.Wm)(H.T,{modelValue:t.menu,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.menu=e}),"close-on-content-click":!1},{activator:(0,o.w5)((function(e){var n=e.props;return[(0,o.Wm)(Z.T,(0,o.dG)({color:"#FFFFFF",class:"font-weight-bold"},n,{innerHTML:t.$t("util.token")}),null,16,["innerHTML"])]})),default:(0,o.w5)((function(){return[(0,o.Wm)(i._,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(Y.Z,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(Q.h,{modelValue:t.token,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.token=e}),type:"password","single-line":"","hide-details":""},null,8,["modelValue"])]})),_:1}),(0,o.Wm)(V.h,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(D.C),(0,o.Wm)(Z.T,{text:"",onClick:t.onClose,innerHTML:t.$t("util.cancel")},null,8,["onClick","innerHTML"]),(0,o.Wm)(Z.T,{text:"",onClick:t.saveToken,innerHTML:t.$t("util.save")},null,8,["onClick","innerHTML"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])])}var q=window.VUE_APP_OAPI,K=(0,o.aZ)({name:"TokenAuth",template:"#token-auth",data:function(){return{token:"",token_:"",menu:!1,interceptor:null}},mounted:function(){this.saveToken()},methods:{saveToken:function(){this.token_=this.token;var t=this,e=this.axios.interceptors.request;null!==this.interceptor&&e.eject(this.interceptor),this.interceptor=e.use((function(e){return e.headers={Authorization:"Bearer ".concat(t.token_)},e.baseURL=q,e})),this.onClose()},onClose:function(){this.token=this.token_,this.menu=!1}}});const X=(0,b.Z)(K,[["render",J]]);var tt=X,et=n.p+"img/logo.df82c681..png",nt=n.p+"img/wmo-banner.0871648a..png",at=(0,o.aZ)({name:"AppHeader",template:"#app-header",components:{SelectLocale:$,TokenAuth:tt},data:function(){return{wis2:"https://community.wmo.int/activity-areas/wis/wis2-implementation",logo:et,banner:nt,foot:v}}});const ot=(0,b.Z)(at,[["render",S]]);var rt=ot,it=n(3748),st=n(7584),ut=n(3289),lt={class:"app-nav"};function ct(t,e,n,a,r,i){return(0,o.wg)(),(0,o.iD)("div",lt,[(0,o.Wm)(W.L,{flat:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(it.f,{divided:""},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.items,(function(e,n){return(0,o.wg)(),(0,o.j4)(st.V,{key:n},{default:(0,o.w5)((function(n){var a=n.isHovering,r=n.props;return[(0,o.Wm)(Z.T,(0,o.dG)({href:e.href,to:e.target,target:"_window_".concat(e.text),color:a?"#014e9e":void 0,class:"font-weight-bold",variant:"text"},r),{default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(t.$t("navigation.".concat(e.text)))+" ",1),void 0!==e.href?((0,o.wg)(),(0,o.j4)(ut.t,{key:0,end:"",icon:"mdi-open-in-new"})):(0,o.kq)("",!0)]})),_:2},1040,["href","to","target","color"])]})),_:2},1024)})),128))]})),_:1})]})),_:1})])}var dt=(0,o.aZ)({name:"AppNav",template:"#app-nav",data:function(){return{items:[{text:"home",target:"/",href:void 0},{text:"documentation",target:void 0,href:_.nr}]}}});const ft=(0,b.Z)(dt,[["render",ct]]);var mt=ft,pt={components:{AppFooter:k,AppHeader:rt,AppNav:mt},data:function(){return{dialog:!1}},methods:{toggleDialog:function(){this.dialog=!0!==this.dialog}},setup:function(){var t=(0,z.QT)(),e=t.t;return{t:e}}};const ht=(0,b.Z)(pt,[["render",d]]);var gt=ht,wt=(n(8783),n(285),n(1637),n(2119)),At=n(7771),vt=n(401),_t=n(4075),yt=n(9950),bt={class:"datasets"},xt={class:"pt-2"};function kt(t,e,n,r,u,l){var c=(0,o.up)("dataset-map");return(0,o.wg)(),(0,o.iD)("div",bt,[(0,o.Wm)(i._,{flat:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(At.w,{border:"start",variant:"contained-text",color:"#014e9e"},{default:(0,o.w5)((function(){return[(0,o._)("h2",null,(0,f.zw)(t.$t("messages.welcome")),1)]})),_:1}),(0,o.Wm)(i._,{class:"pa-2"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.datasets,(function(e,n){return(0,o.wg)(),(0,o.j4)(s.o,{key:n},{default:(0,o.w5)((function(){return[(0,o.Wm)(p.D,{sm:"12",md:"3"},{default:(0,o.w5)((function(){return[(0,o.Wm)(T.K,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(s.o,{justify:"center","fill-height":""},{default:(0,o.w5)((function(){return[(0,o.Wm)(i._,{class:"pa-0 ma-0",onClick:function(t){return l.loadMap(e.id)}},{default:(0,o.w5)((function(){return[(0,o.Wm)(yt.y,{"open-on-hover":"",contained:"",activator:"parent",class:"align-center justify-center"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Z.T,{flat:""},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(t.$t("datasets.map")),1)]})),_:1})]})),_:1}),(0,o.Wm)(c,{dataset:e},null,8,["dataset"])]})),_:2},1032,["onClick"])]})),_:2},1024)]})),_:2},1024)]})),_:2},1024),(0,o.Wm)(p.D,{sm:"12",md:"9",class:"text-center"},{default:(0,o.w5)((function(){return[(0,o.Wm)(p.D,null,{default:(0,o.w5)((function(){return[(0,o._)("h2",null,(0,f.zw)(e.properties.title),1)]})),_:2},1024),(0,o.Wm)(p.D,{class:"flex-nowrap"},{default:(0,o.w5)((function(){return[(0,o._)("span",xt,[(0,o._)("strong",null,(0,f.zw)(t.$t("datasets.topic")+" : "),1),(0,o._)("code",null,(0,f.zw)(e.id),1)])]})),_:2},1024),(0,o.Wm)(p.D,null,{default:(0,o.w5)((function(){return[(0,o.wy)((0,o.Wm)(vt.Y,{variant:"outlined",divided:""},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.links,(function(e,n){return(0,o.wg)(),(0,o.j4)(Z.T,{key:n,title:e.type,href:e.href,to:e.target,target:"_window_".concat(e.type)},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(t.$t("datasets.".concat(e.msg)))+" ",1),(0,o.Wm)(ut.t,{end:"",icon:e.icon},null,8,["icon"])]})),_:2},1032,["title","href","to","target"])})),128))]})),_:2},1536),[[a.F8,t.$vuetify.display.mdAndUp]]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.links,(function(e,n){return(0,o.wy)(((0,o.wg)(),(0,o.j4)(s.o,{key:n,justify:"center",class:"my-1"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Z.T,{block:"",variant:"outlined",title:e.type,href:e.href,to:e.target,target:"_window_".concat(e.type)},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(t.$t("datasets.".concat(e.msg)))+" ",1),(0,o.Wm)(ut.t,{end:"",icon:e.icon},null,8,["icon"])]})),_:2},1032,["title","href","to","target"])]})),_:2},1024)),[[a.F8,t.$vuetify.display.smAndDown]])})),128))]})),_:2},1024)]})),_:2},1024),n+1<t.datasets.length?((0,o.wg)(),(0,o.j4)(_t.J,{key:0})):(0,o.kq)("",!0)]})),_:2},1024)})),128))]})),_:1})]})),_:1})])}var Wt=n(6347),Tt=n(8534),Dt=(n(5666),n(2931)),Ot={class:"dataset-map"},Mt={key:0};function jt(t,e,n,r,i,s){var u=(0,o.up)("l-geo-json"),l=(0,o.up)("l-tile-layer"),c=(0,o.up)("l-map");return(0,o.wg)(),(0,o.iD)("div",Ot,[t.loading?((0,o.wg)(),(0,o.iD)("div",Mt,[(0,o.Wm)(Dt.K,{striped:"",indeterminate:"",color:"primary"})])):(0,o.kq)("",!0),(0,o.wy)((0,o._)("div",null,[(0,o.Wm)(c,{ref:n.dataset.id,center:t.center,options:t.options,maxZoom:"16",style:{height:"160px",width:"256px"},onReady:e[0]||(e[0]=function(t){return s.onReady()})},{default:(0,o.w5)((function(){return[(0,o.Wm)(u,{geojson:n.dataset},null,8,["geojson"]),(0,o.Wm)(l,{url:t.url},null,8,["url"])]})),_:1},8,["center","options"])],512),[[a.F8,!t.loading]])])}n(1249);var St=n(6633),Zt=n(8662),Ct={name:"datasets",template:"#datasets",components:{LMap:Zt.iA,LTileLayer:Zt.Hw,LGeoJson:Zt.jK},props:["dataset"],data:function(){return{loading:!1,center:[0,0],options:{zoomControl:!1,doubleClickZoom:!1,dragging:!1,zoomSnap:.25},url:window.VUE_APP_BASEMAP_URL}},methods:{onReady:function(){var t=this;this.loading=!0,this.$nextTick((function(){t.map=t.$refs[t.dataset.id]["leafletObject"],t.map.fitBounds((0,St.geoJSON)(t.dataset).getBounds()),t.map.zoomOut(.25),t.map.setMinZoom(t.map.getZoom()),t.map.setMaxZoom(t.map.getZoom()),t.map.attributionControl.setPrefix(""),t.loading=!1}))}}};const Pt=(0,b.Z)(Ct,[["render",jt]]);var Et=Pt,Ht=window.VUE_APP_OAPI,It={name:"datasets",template:"#datasets",components:{DatasetMap:Et},data:function(){return{datasets:[]}},created:function(){var t=this;return(0,Tt.Z)(regeneratorRuntime.mark((function e(){var n,a,o,r,i,s,u,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(Ht+"/collections/discovery-metadata/items?f=json");case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,o=(0,Wt.Z)(a.features);try{for(o.s();!(r=o.n()).done;){i=r.value,s=[{href:void 0,target:"/".concat(i.id),type:"Map",msg:"explore",icon:"mdi-map-marker-circle"}],u=(0,Wt.Z)(i.links);try{for(u.s();!(l=u.n()).done;)c=l.value,"OARec"===c.type?s.push({href:c.href,target:void 0,type:"OARec",msg:"oarec",icon:"mdi-open-in-new"}):"OAFeat"===c.type&&s.push({href:c.href,target:void 0,type:"OAFeat",msg:"oafeat",icon:"mdi-open-in-new"})}catch(d){u.e(d)}finally{u.f()}i.bbox=[i.geometry.coordinates[0][0][0],i.geometry.coordinates[0][0][1],i.geometry.coordinates[0][2][0],i.geometry.coordinates[0][2][1]],i.links=s,t.datasets.push(i)}}catch(d){o.e(d)}finally{o.f()}case 8:case"end":return e.stop()}}),e)})))()},methods:{loadMap:function(t){this.$router.push("/".concat(t))}}};const Rt=(0,b.Z)(It,[["render",kt]]);var Lt=Rt;function zt(t,e,n,a,r,s){var u=(0,o.up)("chart-dialog"),l=(0,o.up)("wis-map");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",{class:"dialog",style:(0,f.j5)({opacity:t.$root.dialog?"1":"0"})},[(0,o.Wm)(u,{features:t.features},null,8,["features"])],4),(0,o._)("div",{class:"map",style:(0,f.j5)({opacity:t.$root.dialog?"0":"1"})},[(0,o.Wm)(i._,{flat:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{features:t.features,params:{collection:n.topic}},null,8,["features","params"])]})),_:1})],4)],64)}var Bt=n(6572),Ut=n(1332),Ft=n(7471),Nt={class:"chart-dialog"};function $t(t,e,n,a,r,s){var u=(0,o.up)("data-viewer");return(0,o.wg)(),(0,o.iD)("div",Nt,[(0,o.Wm)(yt.y,{modelValue:t.$root.dialog,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.$root.dialog=e}),class:"align-center justify-center"},{default:(0,o.w5)((function(){return[(0,o._)("div",null,[(0,o.Wm)(i._,{width:t.$vuetify.display.width,"max-height":.95*t.$vuetify.display.height,"max-width":"1100",class:"pa-4 scroll"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Ft.iv,{color:"#FFF"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Bt.E,{class:"text-h4",innerHTML:t.station.properties.name},null,8,["innerHTML"]),(0,o.Wm)(D.C),(0,o.Wm)(Z.T,{varaint:"text",color:"pink",icon:"",onClick:t.$root.toggleDialog},{default:(0,o.w5)((function(){return[(0,o.Wm)(ut.t,{icon:"mdi-close"})]})),_:1},8,["onClick"])]})),_:1}),(0,o.Wm)(Ut.Q,{innerHTML:t.station.id},null,8,["innerHTML"]),(0,o.Wm)(c.t,{height:"590"},{default:(0,o.w5)((function(){return[(0,o.Wm)(u,{station:t.station},null,8,["station"])]})),_:1})]})),_:1},8,["width","max-height"])])]})),_:1},8,["modelValue"])])}n(2526),n(1817);var Yt=n(9156),Vt=n(3144),Qt=n(9870),Gt=n(5030),Jt=n(6161),qt=n(4722),Kt={class:"data-viewer"};function Xt(t,e,n,r,i,s){var c=(0,o.up)("data-navigation"),d=(0,o.up)("data-plotter"),m=(0,o.up)("data-table");return(0,o.wg)(),(0,o.iD)("div",Kt,[(0,o.Wm)(u.s,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(W.L,{color:"#EEEEEE",flat:""},(0,o.Nv)({default:(0,o.w5)((function(){return[(0,o.wy)((0,o.Wm)(Gt.q,{class:"pa-2 text-h6"},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(t.choices.collection.description||t.$t("chart.collection")),1)]})),_:1},512),[[a.F8,t.$vuetify.display.mdAndUp]]),(0,o.Wm)(Vt.d,{modelValue:t.tab,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.tab=e}),end:"",color:"#014e9e"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.tabs,(function(e,n){return(0,o.wg)(),(0,o.j4)(Qt.L,{class:"text-center pa-2",value:n,key:n},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(t.$t(e)),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["modelValue"])]})),_:2},[t.$vuetify.display.smAndDown?{name:"prepend",fn:(0,o.w5)((function(){return[(0,o.Wm)(Yt.g,{onClick:e[0]||(e[0]=(0,a.iM)((function(e){return t.drawer=!t.drawer}),["stop"]))})]}))}:void 0]),1024),(0,o.Wm)(c,{choices:t.choices,station:t.station,alert:t.alert,drawer:{model:t.drawer}},null,8,["choices","station","alert","drawer"]),(0,o.Wm)(l.O,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(Jt.Oo,{modelValue:t.tab,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.tab=e})},{default:(0,o.w5)((function(){return[(0,o.Wm)(qt.H,{value:0},{default:(0,o.w5)((function(){return[(0,o.Wm)(d,{choices:t.choices,alert:t.alert},null,8,["choices","alert"])]})),_:1}),(0,o.Wm)(qt.H,{value:1},{default:(0,o.w5)((function(){return[(0,o.Wm)(m,{choices:t.choices,alert:t.alert},null,8,["choices","alert"])]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})])}n(189);var te={class:"data-plotter"},ee=["id"];function ne(t,e,n,r,s,u){return(0,o.wg)(),(0,o.iD)("div",te,[(0,o.Wm)(i._,{"min-height":"500px",class:"ma-4"},{default:(0,o.w5)((function(){return[(0,o.wy)((0,o.Wm)(At.w,{type:"warning",innerHTML:t.alert.msg},null,8,["innerHTML"]),[[a.F8,t.alert.value]]),(0,o._)("div",{style:(0,f.j5)({visibility:t.loading?"visible":"hidden"})},[(0,o.Wm)(Dt.K,{striped:"",indeterminate:"",color:"primary"})],4),(0,o._)("div",{style:(0,f.j5)({visibility:t.loading?"hidden":"visible"})},[(0,o.Wm)(i._,{class:"mx-auto",flat:""},{default:(0,o.w5)((function(){return[(0,o._)("div",{id:"plotly-chart-"+t.choices_.collection.id},null,8,ee)]})),_:1})],4)]})),_:1})])}n(6699),n(2023),n(3123),n(8862),n(2222);var ae=n(7266),oe=n.n(ae),re=n(5317),ie=window.VUE_APP_OAPI,se=(0,o.aZ)({name:"DataPlotter",template:"#data-plotter",props:["choices","alert"],watch:{choices_:{handler:function(t){if(""!==t.collection&&""!==t.datastream){this.data=[],this.config.modeBarButtonsToAdd=[];var e,n=(0,Wt.Z)(this.choices_.station);try{for(n.s();!(e=n.n()).done;){var a=e.value;this.loadCollection(t.collection,a)}}catch(o){n.e(o)}finally{n.f()}}this.loading=!1},deep:!0}},data:function(){return{trace:{type:"scatter",mode:"lines",x:[],y:[],line:{color:"#014e9e"},name:""},scatter:{type:"scatter",mode:"markers",x:[],y:[],marker:{size:5,color:"#014e9e"},name:""},choices_:this.choices,data:[],loading:!1,layout:{title:"",xaxis:{autorange:!0,type:"date",range:[null,null],rangeslider:{range:[null,null]}},yaxis:{type:"linear",autorange:!0,title:null}},config:{responsive:!0,displayModeBar:!0,modeBarButtonsToAdd:[],modeBarButtonsToRemove:["zoom2d","pan2d","select2d","lasso2d","zoomIn2d","zoomOut2d","autoScale2d"]},font:{size:14},alert_:this.alert}},methods:{plot:function(){var t=document.getElementById("plotly-chart-"+this.choices.collection.id);oe().purge(t),oe().newPlot(t,this.data,this.layout,this.config),this.loading=!1},getCol:function(t,e){if(!e.includes("."))return t.map((function(t){return t["properties"][e]}));var n=e.split(".");return 2===n.length?t.map((function(t){return t["properties"][n[0]][n[1]]})):3===n.length?t.map((function(t){return t["properties"][n[0]][n[1]][n[2]]})):void 0},newTrace:function(t,e,n){var a=JSON.parse(JSON.stringify(this.trace));a.x=this.getCol(t,e),a.y=this.getCol(t,n),this.data.push(a);var o=JSON.parse(JSON.stringify(this.scatter));o.x=this.getCol(t,e),o.y=this.getCol(t,n),this.data.push(o),this.setDateLayout(t[t.length-1])},loadCollection:function(t,e){var n=this;return(0,Tt.Z)(regeneratorRuntime.mark((function a(){var o,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n.loading=!0,o=n,r=t.description,i=n.choices_.datastream,n.alert_.msg=e+n.$t("messages.no_observations_in_collection")+r,a.next=7,n.$http({method:"get",url:"".concat(ie,"/collections/").concat(t.id,"/items"),params:{f:"json",name:i.id,index:i.index,wigos_station_identifier:e,resulttype:"hits"}}).then((function(n){o.loadObservations(t.id,n.data.numberMatched,i,e)})).catch((function(t){401===t.response.status&&(o.alert_.msg=o.$t("messages.not_authorized"),o.alert_.value=!0),console.log(t),o.loading=!1})).then((function(){console.log("done")}));case 7:case"end":return a.stop()}}),a)})))()},loadObservations:function(t,e,n,a){var o=this;return(0,Tt.Z)(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(0!==e){r.next=6;break}return o.alert_.value=!0,o.loading=!1,r.abrupt("return");case 6:return i=o,o.loading=!0,r.next=10,o.$http({method:"get",url:"".concat(ie,"/collections/").concat(t,"/items"),params:{f:"json",name:n.id,index:n.index,wigos_station_identifier:a,sortby:"-resultTime",limit:e}}).then((function(t){var e=t.request.responseURL;i.config.modeBarButtonsToAdd.push({name:i.$t("chart.data_source"),icon:{width:24,height:24,path:re.fOx},click:function(){var t=(0,L.Z)(i.layout.xaxis.range,2),n=t[0],a=t[1],o="".concat(new Date(n+"Z").toISOString(),"/").concat(new Date(a+"Z").toISOString());window.location.href="".concat(e,"&datetime=").concat(o)}}),i.newTrace(t.data.features,"resultTime","value"),i.layout.yaxis.title=n.units,i.layout.title=n.name,i.plot()})).catch((function(t){console.log(t),i.loading=!1})).then((function(){console.log("done")}));case 10:case"end":return r.stop()}}),r)})))()},setDateLayout:function(t){var e=new Date(new Date(t.properties.resultTime).setUTCHours(0,0,0,0)).toISOString(),n=new Date((new Date).setUTCHours(23,59,59,999)).toISOString();this.layout.xaxis.range=[e,n],this.layout.xaxis.rangeslider.range=[e,n]}}});const ue=(0,b.Z)(se,[["render",ne]]);var le=ue,ce=n(7769),de=n(7033),fe={class:"data-navigation"};function me(t,e,n,a,r,i){return(0,o.wg)(),(0,o.iD)("div",fe,[(0,o.Wm)(de.V,{modelValue:i.drawer_,"onUpdate:modelValue":e[0]||(e[0]=function(t){return i.drawer_=t}),bottom:"",absolute:"",class:"text-center"},{default:(0,o.w5)((function(){return[(0,o.Wm)(ce.o,{class:"mt-2",innerHTML:t.$t("chart.observed_property")},null,8,["innerHTML"]),(0,o.Wm)(C.i,{nav:""},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.choices.datastreams,(function(t,e){return(0,o.wg)(),(0,o.iD)(o.HY,{key:e},[(0,o.Wm)(P.l,{value:e,"active-color":"#014e9e",active:r.model===e,class:"text-left text-body-2",onClick:function(n){return i.updateData(t,e)}},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(i.getNameTime(t)),1)]})),_:2},1032,["value","active","onClick"]),e<n.choices.datastreams.length-1?((0,o.wg)(),(0,o.j4)(_t.J,{key:0,class:"pb-1 mx-2"})):(0,o.kq)("",!0)],64)})),128))]})),_:1})]})),_:1},8,["modelValue"])])}n(4765),n(5306),n(8757);function pe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"phenomenonTime",n=he(t.name);if(t[e].includes("/")){var a=t[e].split("/"),o=new Date(a[1]).getTime()-new Date(a[0]).getTime(),r=Math.floor(o/6e4),i=Math.floor(o/36e5);i>0?n="".concat(n," (").concat(i," hr)"):r>0&&(n="".concat(n," (").concat(r," min)"))}return n}function he(t){if("string"===typeof t){if(t.search(/\d+$/)>-1){var e=t.match(/\d+$/g);t=t.replace(e,"_".concat(e))}if(t.search(/^\d+/)>-1){var n=t.match(/^\d+/g);t=t.replace(n,"".concat(n,"_"))}else t=t.charAt(0).toUpperCase()+t.substring(1).toLowerCase();return t.replaceAll("_"," ")}}function ge(t){return t&&t.links&&t.links.length>0}var we=window.VUE_APP_OAPI,Ae={name:"DataNavigation",template:"#data-navigation",props:["choices","alert","station","drawer"],data:function(){return{choices_:this.choices,alert_:this.alert,model:-1}},computed:{drawer_:function(){return this.drawer.model}},watch:{"choices.collections":{handler:function(t){if(ge(this.station)){var e,n=(0,Wt.Z)(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;this.station.properties.topic===a.id&&this.updateCollection(a)}}catch(o){n.e(o)}finally{n.f()}}},deep:!0}},methods:{getNameTime:pe,updateCollection:function(t){var e=this;return(0,Tt.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.alert_value=!1,e.choices_.collection=t,a=e,n.next=5,e.$http({method:"get",url:"".concat(we,"/collections/").concat(t.id,"/items"),params:{wigos_station_identifier:a.station.id,properties:"resultTime",sortby:"-resultTime",f:"json",limit:1}}).then((function(e){a.fetchCollectionItems("".concat(t.id),e.data.features[0].properties.resultTime,e.data.numberMatched)})).catch((function(t){401===t.response.status&&(a.alert_.msg=a.$t("messages.not_authorized"),a.alert_.value=!0),console.log(t),a.loading=!1})).then((function(){console.log("done")}));case 5:case"end":return n.stop()}}),n)})))()},fetchCollectionItems:function(t,e,n){var a=this;return(0,Tt.Z)(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return r=a,o.next=3,a.$http({method:"get",url:"".concat(we,"/collections/").concat(t,"/items"),params:{wigos_station_identifier:r.station.id,datetime:"".concat(e,"/.."),f:"json",limit:n}}).then((function(t){var e,n=(0,Wt.Z)(t.data.features);try{for(n.s();!(e=n.n()).done;){var a=e.value;r.choices_.datastreams.push(a.properties)}}catch(o){n.e(o)}finally{n.f()}})).catch((function(t){console.log(t),r.loading=!1})).then((function(){console.log("done")}));case 3:case"end":return o.stop()}}),o)})))()},updateData:function(t,e){this.choices_.datastream={id:t.name,index:t.index,name:pe(t),units:t.units},this.model=e}}};const ve=(0,b.Z)(Ae,[["render",me]]);var _e=ve,ye=n(4413),be=function(t){return(0,o.dD)("data-v-24eecd3b"),t=t(),(0,o.Cn)(),t},xe={class:"data-table"},ke=be((function(){return(0,o._)("div",{id:"plotly-table"},null,-1)})),We=["innerHTML"],Te=["innerHTML"],De=["innerHTML"],Oe=["innerHTML"];function Me(t,e,n,r,u,l){return(0,o.wg)(),(0,o.iD)("div",xe,[(0,o.Wm)(i._,{"min-height":"500px",class:"ma-4"},{default:(0,o.w5)((function(){return[(0,o.wy)((0,o.Wm)(At.w,{type:"warning",innerHTML:t.alert.msg},null,8,["innerHTML"]),[[a.F8,t.alert.value]]),(0,o._)("div",{style:(0,f.j5)({visibility:t.loading?"visible":"hidden"})},[(0,o.Wm)(Dt.K,{striped:"",indeterminate:"",color:"primary"})],4),(0,o._)("div",{style:(0,f.j5)({visibility:t.loading?"hidden":"visible"})},[(0,o.Wm)(T.K,null,{default:(0,o.w5)((function(){return[(0,o.Wm)(s.o,{justify:"center",align:"end"},{default:(0,o.w5)((function(){return[ke]})),_:1})]})),_:1}),(0,o.wy)((0,o.Wm)(ye.Y,{"fixed-header":"",height:"500px"},{default:(0,o.w5)((function(){return[(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{class:"text-center",innerHTML:t.$t("table.phenomenon_time")},null,8,We),(0,o._)("th",{class:"text-center",innerHTML:t.title},null,8,Te)])]),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.data.time,(function(e,n){return(0,o.wg)(),(0,o.iD)("tr",{key:n},[(0,o._)("td",{innerHTML:t.data.phenomenonTime[n]},null,8,De),(0,o._)("td",{innerHTML:t.data.value[n]},null,8,Oe)])})),128))])]})),_:1},512),[[a.F8,""!==t.title]])],4)]})),_:1})])}var je=window.VUE_APP_OAPI,Se=(0,o.aZ)({name:"DataTable",template:"#data-table",props:["choices","alert"],mounted:function(){var t=this;this.$nextTick((function(){if(""!==t.choices_.collection&&""!==t.choices_.datastream){var e,n=(0,Wt.Z)(t.choices_.station);try{for(n.s();!(e=n.n()).done;){var a=e.value;t.loadCollection(t.choices_.collection,a)}}catch(o){n.e(o)}finally{n.f()}}}))},watch:{choices:{handler:function(t){if(!0!==this.loading){if(this.loading=!0,""!==t.collection&&""!==t.datastream){this.data={};var e,n=(0,Wt.Z)(this.choices_.station);try{for(n.s();!(e=n.n()).done;){var a=e.value;this.loadCollection(t.collection,a)}}catch(o){n.e(o)}finally{n.f()}}this.loading=!1}},deep:!0}},data:function(){return{choices_:this.choices,data:{},loading:!1,title:"",headerOverflow:0,alert_:this.alert,layout:{height:24,yaxis:{showgrid:!1,zeroline:!1,showline:!1,ticks:"",showticklabels:!1},xaxis:{showgrid:!1,zeroline:!1,showline:!1,ticks:"",showticklabels:!1}},config:{editable:!1,responsive:!0,displayModeBar:!0,modeBarButtonsToAdd:[],modeBarButtonsToRemove:["toImage","resetScale2d","zoom2d","pan2d","select2d","lasso2d","zoomIn2d","zoomOut2d","autoScale2d"]}}},methods:{onScroll:function(t){this.headerOverflow=t.target.scrollTop},getCol:function(t,e){if(!e.includes("."))return t.map((function(t){return t["properties"][e]}));var n=e.split(".");return 2===n.length?t.map((function(t){return t["properties"][n[0]][n[1]]})):3===n.length?t.map((function(t){return t["properties"][n[0]][n[1]][n[2]]})):void 0},loadCollection:function(t,e){var n=this;return(0,Tt.Z)(regeneratorRuntime.mark((function a(){var o,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=t.description,r=n.choices_.datastream,n.alert_.msg=e+n.$t("messages.no_observations_in_collection")+o,n.loading=!0,i=n,a.next=7,n.$http({method:"get",url:"".concat(je,"/collections/").concat(t.id,"/items"),params:{f:"json",name:r.id,index:r.index,wigos_station_identifier:e,resulttype:"hits"}}).then((function(n){i.loadObservations(t.id,n.data.numberMatched,r,e)})).catch((function(t){401===t.response.status&&(i.alert_.msg=i.$t("messages.not_authorized"),i.alert_.value=!0),console.log(t),i.loading=!1})).then((function(){console.log("done")}));case 7:case"end":return a.stop()}}),a)})))()},loadObservations:function(t,e,n,a){var o=this;return(0,Tt.Z)(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(0!==e){r.next=6;break}return o.alert_.value=!0,o.loading=!1,r.abrupt("return");case 6:return i=o,o.loading=!0,r.next=10,o.$http({method:"get",url:"".concat(je,"/collections/").concat(t,"/items"),params:{f:"json",name:n.id,index:n.index,wigos_station_identifier:a,sortby:"-resultTime",limit:e}}).then((function(t){i.plot(t.request.responseURL),"CODE TABLE"===n.units?(i.title="".concat(n.name),i.data.value=i.getCol(t.data.features,"description")):(i.title="".concat(n.name," (").concat(n.units,")"),i.data.value=i.getCol(t.data.features,"value")),i.data.time=i.getCol(t.data.features,"resultTime"),i.data.phenomenonTime=i.getCol(t.data.features,"phenomenonTime")})).catch((function(t){console.log(t)})).then((function(){i.loading=!1,console.log("done")}));case 10:case"end":return r.stop()}}),r)})))()},plot:function(t){var e=document.getElementById("plotly-table");oe().purge(e),this.config.modeBarButtonsToAdd=[{name:this.$t("chart.download"),icon:{width:24,height:24,path:re.OGU},click:function(){console.log(t.replace("f=json","f=csv")),window.location.href=t.replace("f=json","f=csv")}}],oe().newPlot(e,[],this.layout,this.config)}}});const Ze=(0,b.Z)(Se,[["render",Me],["__scopeId","data-v-24eecd3b"]]);var Ce=Ze,Pe=window.VUE_APP_OAPI,Ee=(0,o.aZ)({name:"DataViewer",template:"#data-viewer",props:["station"],components:{DataPlotter:le,DataNavigation:_e,DataTable:Ce},data:function(){return{drawer:!0,tab:0,tabs:["chart.chart","table.table"],choices:{collection:"",datastream:"",discovery_metadata:"",station:new Set([this.station.id]),stations:[],collections:[],datastreams:[]},alert:{value:!1,msg:""}}},methods:{goBack:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/")}},watch:{"choices.datastream":{handler:function(t){""!==t&&this.$vuetify.display.smAndDown&&(this.drawer=!1)}}},created:function(){var t=this;return(0,Tt.Z)(regeneratorRuntime.mark((function e(){var n,a,o,r,i,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,fetch(Pe+"/collections?f=json");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,o=(0,Wt.Z)(a.collections),e.prev=8,o.s();case 10:if((r=o.n()).done){e.next=33;break}if(i=r.value,"stations"!==i.id){e.next=21;break}return e.next=15,fetch(Pe+"/collections/stations/items?f=json");case 15:return s=e.sent,e.next=18,s.json();case 18:t.choices.stations=e.sent,e.next=31;break;case 21:if("discovery-metadata"!==i.id){e.next=30;break}return e.next=24,fetch(Pe+"/collections/discovery-metadata/items?f=json");case 24:return u=e.sent,e.next=27,u.json();case 27:t.choices.discovery_metadata=e.sent,e.next=31;break;case 30:"messages"!==i.id&&t.choices.collections.push(i);case 31:e.next=10;break;case 33:e.next=38;break;case 35:e.prev=35,e.t0=e["catch"](8),o.e(e.t0);case 38:return e.prev=38,o.f(),e.finish(38);case 41:t.loading=!1;case 42:case"end":return e.stop()}}),e,null,[[8,35,38,41]])})))()}});const He=(0,b.Z)(Ee,[["render",Xt]]);var Ie=He,Re=(0,o.aZ)({name:"ChartDialog",template:"#chart-dialog",components:{DataViewer:Ie},props:["features"],data:function(){return{features_:this.features}},computed:{station:function(){return this.features_.station},datastreams:function(){return this.features_.datastreams}}});const Le=(0,b.Z)(Re,[["render",$t],["__scopeId","data-v-372f5597"]]);var ze=Le,Be={class:"wis-map"},Ue={key:0},Fe={class:"text-center"};function Ne(t,e,n,a,r,u){var l=(0,o.up)("station-info"),c=(0,o.up)("wis-station"),d=(0,o.up)("l-tile-layer"),m=(0,o.up)("l-control"),h=(0,o.up)("l-map");return(0,o.wg)(),(0,o.iD)("div",Be,[t.loading?((0,o.wg)(),(0,o.iD)("div",Ue,[(0,o.Wm)(Dt.K,{striped:"",indeterminate:"",color:"primary"})])):(0,o.kq)("",!0),(0,o._)("div",Fe,[(0,o.Wm)(s.o,{justify:"center","fill-height":"","no-gutters":""},{default:(0,o.w5)((function(){return[(0,o.Wm)(p.D,{cols:t.smAndDown?12:4,order:t.smAndDown?"last":"start"},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{features:t.features,map:t.map,class:"ma-1"},null,8,["features","map"])]})),_:1},8,["cols","order"]),(0,o.Wm)(p.D,{cols:t.smAndDown?12:8},{default:(0,o.w5)((function(){return[(0,o.Wm)(i._,{class:"ma-1"},{default:(0,o.w5)((function(){return[(0,o._)("p",null,[(0,o.Wm)(h,{ref:"wisMap",zoom:t.zoom,center:t.center,maxZoom:"16",minZoom:"2",style:{height:"60vh"},onReady:e[0]||(e[0]=function(e){return t.onReady()})},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{features:t.features,map:t.map},null,8,["features","map"]),(0,o.Wm)(d,{url:t.url,attribution:t.attribution},null,8,["url","attribution"]),(0,o.Wm)(m,{position:"bottomleft"},{default:(0,o.w5)((function(){return[(0,o.Wm)(i._,{width:"124px",class:"legend pa-2",border:"1"},{default:(0,o.w5)((function(){return[(0,o._)("strong",null,(0,f.zw)(t.$t("messages.no_of_observations")),1),(0,o.Wm)(_t.J,{class:"my-2"}),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.legend,(function(t,e){return(0,o.wg)(),(0,o.j4)(s.o,{"no-gutters":"",justify:"center",key:e},{default:(0,o.w5)((function(){return[(0,o.Wm)(p.D,{cols:"3"},{default:(0,o.w5)((function(){return[(0,o._)("i",{class:"dot",style:(0,f.j5)("background: ".concat(t.color))},null,4)]})),_:2},1024),(0,o.Wm)(p.D,null,{default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(t.range),1)]})),_:2},1024)]})),_:2},1024)})),128))]})),_:1})]})),_:1})]})),_:1},8,["zoom","center"])])]})),_:1})]})),_:1},8,["cols"])]})),_:1})])])}var $e={class:"wis-station"};function Ye(t,e,n,a,r,i){var s=(0,o.up)("l-geo-json");return(0,o.wg)(),(0,o.iD)("div",$e,[(0,o.Wm)(s,{geojson:t.stations,options:t.geojsonOptions,onClick:t.mapClick},null,8,["geojson","options","onClick"])])}var Ve=(0,o.aZ)({name:"WisStation",template:"#wis-station",components:{LGeoJson:Zt.jK},props:["features","map"],data:function(){return{features_:this.features,geojsonOptions:{onEachFeature:this.onEachFeature,pointToLayer:this.pointToLayer}}},methods:{mapClick:function(t){this.features_.station=t.layer.feature,this.features_.datastreams.length=0,this.$root.toggleDialog(),t.originalEvent.stopPropagation()},onEachFeature:function(t,e){var n=this;e.on("mouseover",(function(a){n.features_.station=t,e.bindPopup(t.properties.name).openPopup(a.latLng)}))},pointToLayer:function(t,e){var n,a,o=t.properties.num_obs;0===o?(n="#708090",a="#2E343B"):o<=7?(n="#FF3300",a="#801A00"):o<=19?(n="#FF9900",a="#804D00"):(n="#009900",a="#004D00");var r={radius:4,fillColor:n,color:a,weight:1,opacity:1,fillOpacity:.8};return(0,St.circleMarker)(e,r)}},computed:{stations:function(){return this.features_.stations}}});const Qe=(0,b.Z)(Ve,[["render",Ye]]);var Ge=Qe,Je={class:"station-info"};function qe(t,e,n,r,s,u){var l=(0,o.up)("station-list"),c=(0,o.up)("station-status");return(0,o.wg)(),(0,o.iD)("div",Je,[(0,o.Wm)(i._,{flat:"",height:"60vh",class:"scroll"},{default:(0,o.w5)((function(){return[(0,o.Wm)(Ft.iv,null,(0,o.Nv)({default:(0,o.w5)((function(){return[(0,o.Wm)(Gt.q,null,{default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(t.station_name||t.$t("chart.station")),1)]})),_:1})]})),_:2},[null!==t.station?{name:"prepend",fn:(0,o.w5)((function(){return[(0,o.Wm)(Z.T,{icon:"",onClick:e[0]||(e[0]=function(e){return t.features_.station=null})},{default:(0,o.w5)((function(){return[(0,o.Wm)(ut.t,{icon:"mdi-arrow-left"})]})),_:1})]}))}:void 0,null!=t.station?{name:"append",fn:(0,o.w5)((function(){return[(0,o.Wm)(Z.T,{variant:"outlined",size:"small",color:"#014e9e",onClick:e[1]||(e[1]=(0,a.iM)((function(e){return t.openData(t.station)}),["stop"])),class:"my-auto"},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(t.$t("navigation.data"))+" ",1),(0,o.Wm)(ut.t,{end:"",icon:"mdi-chart-scatter-plot"})]})),_:1})]}))}:void 0]),1024),(0,o.wy)((0,o.Wm)(i._,{flat:"",class:"text-center"},{default:(0,o.w5)((function(){return[(0,o.Wm)(l,{features:t.features,map:t.map},null,8,["features","map"])]})),_:1},512),[[a.F8,null===t.station]]),(0,o.wy)((0,o.Wm)(i._,{flat:"",class:"text-center"},{default:(0,o.w5)((function(){return[(0,o.Wm)(c,{features:t.features,map:t.map},null,8,["features","map"])]})),_:1},512),[[a.F8,null!==t.station]])]})),_:1})])}var Ke={class:"station-list"},Xe=["textContent"],tn=(0,o.Uk)(" OSCAR ");function en(t,e,n,a,r,i){return(0,o.wg)(),(0,o.iD)("div",Ke,[(0,o.Wm)(C.i,{lines:"3"},{default:(0,o.w5)((function(){return[(0,o.Wm)(st.V,null,{default:(0,o.w5)((function(e){var n=e.isHovering,a=e.props;return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.stations,(function(e,r){return(0,o.wg)(),(0,o.iD)(o.HY,{key:r},[(0,o.Wm)(P.l,(0,o.dG)(a,{height:"50",class:{"on-hover":n},onClick:function(n){return t.onClick(e)},onMouseover:function(n){return t.onHover(e)}}),{prepend:(0,o.w5)((function(){return[(0,o._)("i",{class:"dot",style:(0,f.j5)("background: ".concat(t.getColor(e)))},null,4)]})),title:(0,o.w5)((function(){return[(0,o._)("h4",{class:"ml-1 text-left",textContent:(0,f.zw)(t.clean(e.properties.name))},null,8,Xe)]})),append:(0,o.w5)((function(){return[(0,o.Wm)(Z.T,{variant:"outlined",size:"small",color:"#014e9e",target:e.id,title:e.id,href:e.properties.url},{default:(0,o.w5)((function(){return[tn,(0,o.Wm)(ut.t,{end:"",icon:"mdi-open-in-new"})]})),_:2},1032,["target","title","href"])]})),_:2},1040,["class","onClick","onMouseover"]),r+1<t.stations.length?((0,o.wg)(),(0,o.j4)(_t.J,{key:0})):(0,o.kq)("",!0)],64)})),128))]})),_:1})]})),_:1})])}var nn=n(9584),an=(n(2707),(0,o.aZ)({name:"StationList",template:"#station-list",props:["features","map"],data:function(){return{features_:this.features}},computed:{stations:function(){if(null===this.features.stations)return[];var t=(0,nn.Z)(this.features.stations.features).sort((function(t,e){var n=t.properties.name.toUpperCase(),a=e.properties.name.toUpperCase();return n<a?-1:n>a?1:0}));return t}},methods:{clean:he,onClick:function(t){this.features_.station=t;var e=[t.geometry.coordinates[1],t.geometry.coordinates[0]];this.map.flyTo(e)},onHover:function(t){var e=[t.geometry.coordinates[1],t.geometry.coordinates[0]];this.map.openPopup(t.properties.name,e)},getColor:function(t){var e=t.properties.num_obs;return 0===e?"#708090":e<=7?"#FF3300":e<=19?"#FF9900":"#009900"}}}));const on=(0,b.Z)(an,[["render",en],["__scopeId","data-v-a24c1730"]]);var rn=on,sn=n(9671),un={class:"station-status"},ln={class:"text-center ma-2"};function cn(t,e,n,a,r,i){var s=(0,o.up)("station-latest"),u=(0,o.up)("station-history");return(0,o.wg)(),(0,o.iD)("div",un,[(0,o.Wm)(Vt.d,{grow:"",modelValue:t.tab,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.tab=e}),color:"#014e9e"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.tabs,(function(e,n){return(0,o.wg)(),(0,o.j4)(Qt.L,{value:n,key:n},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(t.$t(e)),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["modelValue"]),(0,o.Wm)(_t.J),(0,o.Wm)(Jt.Oo,{modelValue:t.tab,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.tab=e})},{default:(0,o.w5)((function(){return[(0,o.Wm)(qt.H,{value:0,eager:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(s,{features:t.features,map:t.map},null,8,["features","map"])]})),_:1}),(0,o.Wm)(qt.H,{value:1,eager:""},{default:(0,o.w5)((function(){return[(0,o.Wm)(u,{features:t.features,map:t.map},null,8,["features","map"])]})),_:1})]})),_:1},8,["modelValue"]),(0,o._)("div",ln,[(0,o.Wm)(sn.v,{modelValue:t.snackbar,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.snackbar=e})},{actions:(0,o.w5)((function(){return[(0,o.Wm)(Z.T,{color:"pink",onClick:e[2]||(e[2]=function(e){return t.snackbar=!1})},{default:(0,o.w5)((function(){return[(0,o.Wm)(ut.t,{icon:"mdi-close"})]})),_:1})]})),default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(t.msg)+" ",1)]})),_:1},8,["modelValue"])])])}var dn={class:"station-history"},fn=["id"];function mn(t,e,n,a,r,i){return(0,o.wg)(),(0,o.iD)("div",dn,[(0,o._)("div",{class:"pt-0 mb-2",style:(0,f.j5)({visibility:t.loading?"visible":"hidden"})},[(0,o.Wm)(Dt.K,{height:"6",indeterminate:"",color:"primary"})],4),(0,o.Wm)(s.o,{justify:"center"},{default:(0,o.w5)((function(){return[(0,o._)("div",{class:"plot-history",id:"station-history-"+t.wigos_station_identifier},null,8,fn)]})),_:1})])}var pn=window.VUE_APP_OAPI,hn=(0,o.aZ)({name:"StationHistory",template:"#station-history",props:["features","map"],data:function(){return{now:new Date,loading:!0,features_:this.features,data:[],layout:{height:300,width:450,showlegend:!1,xaxis:{type:"date",showgrid:!0,gridcolor:"#d5e3f0",gridwidth:2},yaxis:{autorange:!0,showgrid:!1,zeroline:!1,showline:!1,autotick:!0,ticks:"",showticklabels:!1}},config:{displayModeBar:!1,responsive:!0}}},computed:{station:function(){return this.features_.station},wigos_station_identifier:function(){return this.station?this.station.properties.wigos_station_identifier:""}},watch:{"features_.station":{handler:function(t){var e=this;return(0,Tt.Z)(regeneratorRuntime.mark((function n(){var a,o,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null!==t){e.data=[],a=(0,Wt.Z)(document.getElementsByClassName("plot-history"));try{for(a.s();!(o=a.n()).done;)r=o.value,e.plot(r)}catch(i){a.e(i)}finally{a.f()}}ge(t)?e.loadObservations(t):null!==t&&(e.msg="\n            ".concat(he(t.properties.name)," ").concat(e.$t("messages.no_linked_collections"),". ").concat(e.$t("messages.how_to_link_station")),e.snackbar=!0,e.loading=!1);case 2:case"end":return n.stop()}}),n)})))()}}},methods:{plot:function(t){oe().purge(t),oe().newPlot(t,this.data,this.layout,this.config)},loadObservations:function(t){var e=this;return(0,Tt.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,a=e,e.data=[],n.next=5,e.$http({method:"get",url:pn+"/collections/"+t.properties.topic+"/items",params:{f:"json",sortby:"+resultTime",wigos_station_identifier:t.id,limit:1}}).then((function(e){var n=e.data.features[0].properties.resultTime;a.oldestResultTime=new Date(n);var o=e.data.features[0].properties.index;a.inDays(a.oldestResultTime,a.now)>30?a.loadAllObservations(t,o):a.loadDailyObservations(t,o)})).catch((function(t){console.log(t),401===t.response.status&&(a.msg=a.$t("messages.not_authorized"),a.snackbar=!0)}));case 5:case"end":return n.stop()}}),n)})))()},loadAllObservations:function(t,e){var n=this;return(0,Tt.Z)(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n.loading=!0,n.layout.xaxis.range=[n.oldestResultTime.toISOString(),n.now.toISOString()],o=n,a.next=5,n.$http({method:"get",url:pn+"/collections/"+t.properties.topic+"/items",params:{f:"json",index:e,wigos_station_identifier:t.id}}).then((function(e){var n={x:e.data.features.map((function(t){return t.properties.resultTime})),type:"histogram",xbins:{size:36e5}},a=document.getElementById("station-history-"+t.id);null!==a&&(o.data.push(n),o.plot(a))}));case 5:n.loading=!1;case 6:case"end":return a.stop()}}),a)})))()},loadDailyObservations:function(t,e){var n=this;return(0,Tt.Z)(regeneratorRuntime.mark((function a(){var o,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n.loading=!0,n.layout.xaxis.range=[n.oldestResultTime.toISOString(),n.now.toISOString()],o=n,r=new Date(n.oldestResultTime.toISOString());case 4:if(!(r<=n.now)){a.next=11;break}return i=r.toISOString().split("T")[0],a.next=8,n.$http({method:"get",url:pn+"/collections/"+t.properties.topic+"/items",params:{f:"json",datetime:i,index:e,wigos_station_identifier:t.id}}).then((function(n){var a,s=n.data.numberMatched;if(0===s)o.getNextDate(t,e,r);else{a=s<=7?"#FF3300":s<=19?"#FF9900":"#009900";var u={x:n.data.features.map((function(t){return t.properties.resultTime})),type:"histogram",marker:{color:a},xbins:{size:36e5},name:i},l=document.getElementById("station-history-"+t.id);null!==l&&(o.data.push(u),o.plot(l))}}));case 8:n.iterDate(r),a.next=4;break;case 11:n.loading=!1;case 12:case"end":return a.stop()}}),a)})))()},inDays:function(t,e){var n=e.getTime(),a=t.getTime();return Math.floor((n-a)/864e5)},iterDate:function(t){var e=new Date(t.toISOString());e.setDate(t.getDate()+1),e<t&&(e.setDate(t.getDate()),e.setMonth(t.getMonth()+1),e<t&&(e.setMonth(t.getMonth()),e.setFullYear(t.getFullYear()+1))),t.setFullYear(e.getFullYear()),t.setMonth(e.getMonth()),t.setDate(e.getDate())},getNextDate:function(t,e,n){var a=new Date(n.toISOString());this.iterDate(a),this.$http({method:"get",url:pn+"/collections/"+t.properties.topic+"/items",params:{f:"json",datetime:"".concat(a.toISOString(),"/.."),sortby:"+resultTime",index:e,limit:1,wigos_station_identifier:t.id}}).then((function(t){var e;e=t.data.numberMatched>0?new Date(t.data.features[0].properties.resultTime):new Date,n.setFullYear(e.getFullYear()),n.setMonth(e.getMonth()),n.setDate(e.getDate())})).catch((function(t){console.log(t)}))}}});const gn=(0,b.Z)(hn,[["render",mn]]);var wn=gn,An={class:"station-status"},vn={class:"text-left"},_n={width:"50%"},yn={key:0,width:"50%"},bn={key:1,width:"50%"};function xn(t,e,n,a,r,i){return(0,o.wg)(),(0,o.iD)("div",An,[(0,o._)("h5",vn,(0,f.zw)(t.$t("messages.from")+" "+t.latestResultTime),1),(0,o.Wm)(ye.Y,null,{default:(0,o.w5)((function(){return[(0,o._)("table",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.recentObservations,(function(e,n){return(0,o.wg)(),(0,o.iD)("tr",{key:n},[(0,o._)("th",_n,(0,f.zw)(t.getNameTime(e)),1),"CODE TABLE"!==e.units?((0,o.wg)(),(0,o.iD)("td",yn,(0,f.zw)(e.value+" "+e.units),1)):"CODE TABLE"===e.units?((0,o.wg)(),(0,o.iD)("td",bn,(0,f.zw)(e.description),1)):(0,o.kq)("",!0)])})),128))])]})),_:1})])}var kn=window.VUE_APP_OAPI,Wn=(0,o.aZ)({name:"StationLatest",template:"#station-latest",props:["features","map"],data:function(){return{features_:this.features,recentObservations:[],latestResultTime:null}},watch:{"features_.station":{handler:function(t){var e=this;return(0,Tt.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.latestResultTime=null,e.recentObservations=[],ge(t)?e.loadObservations(t):null!==t&&(e.msg="\n            ".concat(he(t.properties.name)," ").concat(e.$t("messages.no_linked_collections"),". ").concat(e.$t("messages.how_to_link_station")),e.snackbar=!0,e.loading=!1,e.tab=null);case 3:case"end":return n.stop()}}),n)})))()}}},methods:{getNameTime:pe,loadObservations:function(t){var e=this;return(0,Tt.Z)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e,n.next=3,e.$http({method:"get",url:kn+"/collections/"+t.properties.topic+"/items",params:{f:"json",sortby:"-resultTime",wigos_station_identifier:t.id,limit:1}}).then((function(e){a.latestResultTime=e.data.features[0].properties.resultTime,a.loadRecentObservations(t,e.data.numberMatched)})).catch((function(t){console.log(t),401===t.response.status&&(a.msg=a.$t("messages.not_authorized"),a.snackbar=!0)})).then((function(){a.tab=0,a.loading=!1,console.log("done")}));case 3:case"end":return n.stop()}}),n)})))()},loadRecentObservations:function(t,e){var n=this;return(0,Tt.Z)(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n.loading=!0,o=n,a.next=4,n.$http({method:"get",url:kn+"/collections/"+t.properties.topic+"/items",params:{f:"json",datetime:"".concat(o.latestResultTime,"/.."),wigos_station_identifier:t.id,limit:e}}).then((function(t){o.recentObservations=t.data.features.map((function(t){return t.properties}))}));case 4:case"end":return a.stop()}}),a)})))()}}});const Tn=(0,b.Z)(Wn,[["render",xn],["__scopeId","data-v-6067cd4a"]]);var Dn=Tn,On=(0,o.aZ)({components:{StationLatest:Dn,StationHistory:wn},name:"StationStatus",template:"#station-status",props:["features","map"],data:function(){return{features_:this.features,snackbar:!1,msg:"",tab:null,data:[],layout:{height:300,width:450,showlegend:!1,xaxis:{type:"date"},yaxis:{dtick:1}},config:{displayModeBar:!1,responsive:!0},tabs:["station.latest","station.status"]}},computed:{station:function(){return this.features_.station},station_name:function(){return this.station?this.station.properties.name:this.station}}});const Mn=(0,b.Z)(On,[["render",cn]]);var jn=Mn,Sn=(0,o.aZ)({components:{StationList:rn,StationStatus:jn},name:"StationInfo",template:"#station-info",props:["features","map"],data:function(){return{features_:this.features}},computed:{station:function(){return this.features_.station},station_name:function(){return this.station?this.station.properties.name:this.station}},methods:{openData:function(t){this.features_.station=t,this.$root.toggleDialog()}}});const Zn=(0,b.Z)(Sn,[["render",qe],["__scopeId","data-v-780d559a"]]);var Cn=Zn,Pn=window.VUE_APP_OAPI,En=(0,o.aZ)({name:"WisMap",template:"#wis-map",components:{LControl:Zt.oJ,LMap:Zt.iA,LTileLayer:Zt.Hw,WisStation:Ge,StationInfo:Cn},props:["params","features"],data:function(){return{numberMatched:0,limit_:null,vals:{loading:!0},loading:!0,map:void 0,features_:this.features,center:[0,0],zoom:1,attribution:window.VUE_APP_BASEMAP_ATTRIBUTION,url:window.VUE_APP_BASEMAP_URL,legend:[{color:"#009900",range:"20 or more"},{color:"#FF9900",range:"8 - 19"},{color:"#FF3300",range:"1 - 7"},{color:"#708090",range:"None"}]}},computed:{items:function(){for(var t=[10,25,50,100,150,200],e=new Set,n=0,a=t;n<a.length;n++){var o=a[n];o<this.numberMatched&&e.add(o)}return e.add(this.numberMatched),e},smAndDown:function(){return this.$vuetify.display.smAndDown}},methods:{onReady:function(){var t=this;this.$nextTick((function(){t.map=t.$refs.wisMap.leafletObject,t.map.attributionControl.setPrefix(""),t.map.zoomControl.setPosition("topright"),t.loadStations()}))},loadStations:function(){var t=this;return(0,Tt.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,n=t,e.next=4,t.$http({method:"post",url:"".concat(Pn,"/processes/station-info/execution"),data:{inputs:n.params}}).then((function(t){n.features_.stations=t.data.value,n.numberMatched=t.data.numberMatched})).catch((function(t){console.log(t)})).then((function(){var t=(0,St.geoJSON)(n.features_.stations).getBounds();n.map.fitBounds(t),n.loading=!1,setTimeout(n.loadStations,9e5)}));case 4:case"end":return e.stop()}}),e)})))()}}});const Hn=(0,b.Z)(En,[["render",Ne],["__scopeId","data-v-a5b55d18"]]);var In=Hn,Rn={name:"Map",template:"#map",components:{ChartDialog:ze,WisMap:In},props:["topic"],data:function(){return{features:{stations:null,station:null,datastreams:[]}}},methods:{goBack:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/")}}};const Ln=(0,b.Z)(Rn,[["render",zt]]);var zn=Ln,Bn={class:"services"},Un=["target","title","href"];function Fn(t,e,n,a,r,u){return(0,o.wg)(),(0,o.iD)("div",Bn,[(0,o.Wm)(s.o,{justify:"center"},{default:(0,o.w5)((function(){return[(0,o.Wm)(i._,{class:"text-center pa-4",width:"60%"},{default:(0,o.w5)((function(){return[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.services,(function(t,e){return(0,o.wg)(),(0,o.j4)(s.o,{key:e},{default:(0,o.w5)((function(){return[(0,o.Wm)(p.D,null,{default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(e),1)]})),_:2},1024),"MQTT"==e?((0,o.wg)(),(0,o.j4)(p.D,{key:0},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,f.zw)(t),1)]})),_:2},1024)):((0,o.wg)(),(0,o.j4)(p.D,{key:1},{default:(0,o.w5)((function(){return[(0,o._)("a",{target:e,title:e,href:t},(0,f.zw)(t),9,Un)]})),_:2},1024)),(0,o.Wm)(_t.J)]})),_:2},1024)})),128))]})),_:1})]})),_:1})])}var Nn={name:"Services",template:"#services",data:function(){return{services:{API:window.VUE_APP_OAPI,MQTT:window.VUE_APP_MQTT,WAF:window.VUE_APP_WAF}}}};const $n=(0,b.Z)(Nn,[["render",Fn]]);var Yn=$n,Vn=[{path:"/:topic",props:!0,name:"Topic Map",component:zn},{path:"/",name:"Datasets",component:Lt},{path:"/services",name:"Services",component:Yn}],Qn=(0,wt.p7)({history:(0,wt.PO)(new URL(window.VUE_APP_URL).pathname),routes:Vn}),Gn=Qn,Jn=n(3907),qn=(0,Jn.MT)({state:{},mutations:{},actions:{},modules:{}}),Kn=n(3504),Xn=n(8957),ta=n(1276),ea=(0,Xn.Rd)({icons:{defaultSet:"mdi",aliases:Kn.j,sets:{mdi:Kn.t}},theme:{themes:{light:{dark:!1,primary:"#014e9e",secondary:"#75b942",accent:"#d5e3f0",warning:"#f8a700",error:"#B00020"},dark:{light:!1,primary:"#01aad3",secondary:"#75b942",accent:"#d5e3f0",warning:"#f8a700",error:"#B00020"}}},locale:(0,ta.k)({i18n:U,useI18n:z.QT})}),na=n(9669),aa=n.n(na),oa=n(2346);function ra(){return ia.apply(this,arguments)}function ia(){return ia=(0,Tt.Z)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.e(461).then(n.t.bind(n,5933,23));case 2:e=t.sent,e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}});case 4:case"end":return t.stop()}}),t)}))),ia.apply(this,arguments)}ra(),(0,a.ri)(gt).use(Gn).use(qn).use(ea).use(U).use(oa.Z,aa()).mount("#wis2box-ui-app")},6657:function(t,e,n){var a={"./_template.json":175,"./en.json":790,"./es.json":8563,"./fr.json":844};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}o.keys=function(){return Object.keys(a)},o.resolve=r,t.exports=o,o.id=6657},175:function(t){"use strict";t.exports=JSON.parse('{"language":"","code":"","navigation":{"home":"","datasets":"","services":"","data":"","documentation":""},"util":{"token":"","cancel":"","save":""},"footer":{"powered_by":""},"messages":{"welcome":"","no_observations_in_collection":"","not_authorized":"","no_linked_collections":"","how_to_link_station":"","from":"","no_of_observations":""},"station":{"map":"","properties":"","wigos_station_identifier":"","name":"","status":"","latest":"","report":"","limit":""},"chart":{"chart":"","options":"","collection":"","observed_property\'":"","station":"","data_source":"","download":""},"table":{"table":"","result_time":"","phenomenon_time":""},"datasets":{"topic":"","messages":"","oafeat":"","oarec":"","map":"","explore":"","mqp":""}}')},790:function(t){"use strict";t.exports=JSON.parse('{"language":"English","code":"en","navigation":{"home":"Home","datasets":"Datasets","services":"Data services","data":"Data","documentation":"Documentation"},"util":{"token":"Token","cancel":"Cancel","save":"Save"},"footer":{"powered_by":"Powered by"},"messages":{"welcome":"Welcome to WIS 2.0 in a box!","no_observations_in_collection":" has no observations in collection ","not_authorized":"Dataset requires authorization","no_linked_collections":"has no linked collections","how_to_link_station":"To link a collection, republish the station(s) after wis2box has published an observation from the station","from":"from","no_of_observations":"Observations from the past 24 hours"},"station":{"map":"Station map","properties":"Station properties","wigos_station_identifier":"WIGOS station identifier","name":"Station name","status":"History","latest":"Latest values","report":"Station report","limit":"Limit"},"chart":{"chart":"Plot","options":"Options","collection":"Collection","observed_property":"Observed Property","station":"Stations","data_source":"Data source","download":"Download"},"table":{"table":"Table","result_time":"Result time","phenomenon_time":"Phenomenon time"},"datasets":{"topic":"Topic","messages":"WIS 2.0 messages","oafeat":"Observations","oarec":"Discovery metadata","map":"Map","explore":"Explore","mqp":"PubSub"}}')},8563:function(t){"use strict";t.exports=JSON.parse('{"language":"Espaol","code":"es","navigation":{"home":"Pgina Principal","datasets":"Conjunto de datos","services":"Servicios de datos","data":"Datos","documentation":"Documentacin"},"util":{"token":"Autentificador","cancel":"Anular","save":"Guardar"},"footer":{"powered_by":"Desarrollada por"},"messages":{"welcome":"Bienvenido al WIS 2.0 in a box!","no_observations_in_collection":" no tiene observaciones en la coleccin ","not_authorized":"El conjunto de datos requiere autorizacin","no_linked_collections":"no tiene colecciones vinculadas","how_to_link_station":"Para vincular una coleccin, vuelva a publicar la(s) estacin(es) despus de que wis2box haya publicado una observacin de la estacin","from":"desde","no_of_observations":"Observaciones de las ltimas 24 horas"},"station":{"map":"Mapa de la estacin","properties":"Propiedades de la estacin","wigos_station_identifier":"Identificador de la estacin WIGOS","name":"Nombre de estacin","status":"Registro","latest":"ltimas","report":"Informe de la estacin","limit":"Lmite"},"chart":{"chart":"Grfico","options":"Opciones","collection":"Coleccin","observed_property":"Propiedad observada","station":"Estacin","data_source":"Fuente de datos","download":"Descargar"},"table":{"table":"Tabla","result_time":"Tiempo de resulto","phenomenon_time":"Tiempo de fenmeno"},"datasets":{"topic":"Tema","messages":"Mensajes del WIS 2.0","oafeat":"Observaciones","oarec":"Metadatos de descubrimiento","map":"Mapa","explore":"Explorar","mqp":"PubSub"}}')},844:function(t){"use strict";t.exports=JSON.parse('{"language":"Franais","code":"fr","navigation":{"home":"Page d\'accueil","datasets":"Ensemble de donnes ","services":"Services de donnes","data":"Donnes","documentation":"Documentation"},"util":{"token":"Jeton d\'accs","cancel":"Annuler","save":"Conserver"},"footer":{"powered_by":"Aliment par"},"messages":{"welcome":"Bienvenue  WIS 2.0 in a box!","no_observations_in_collection":" n\'a pas d\'observations dans la collection ","not_authorized":"L\'ensemble de donnes ncessite une autorisation","no_linked_collections":"n\'a pas de collections lies","how_to_link_station":"Pour lier une collection, republiez la ou les stations aprs que wis2box a publi une observation de la station","from":"depuis","no_of_observations":"Observations des dernires 24 heures"},"station":{"map":"Plan de la station","properties":"Proprits de la station","wigos_station_identifier":"Identifiant la station WIGOS","name":"Nom de la station","status":"l\' histoire","latest":"Dernires valeurs","report":"Rapport de la station","limit":"Limite"},"chart":{"chart":"Graphique","options":"Choix","collection":"Collection","observed_property":"Proprit observe","station":"Station","data_source":"Source de donnes","download":"Tlcharger"},"table":{"table":"Tableau","result_time":"Temps de rsultat","phenomenon_time":"Temps du phnomne"},"datasets":{"topic":"Sujet","messages":"Messagerie WIS 2.0","oafeat":"Observations","oarec":"Mtadonnes de dcouverte","map":"Carte","explore":"Explorer","mqp":"PubSub"}}')}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var r=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,a,o,r){if(!a){var i=1/0;for(c=0;c<t.length;c++){a=t[c][0],o=t[c][1],r=t[c][2];for(var s=!0,u=0;u<a.length;u++)(!1&r||i>=r)&&Object.keys(n.O).every((function(t){return n.O[t](a[u])}))?a.splice(u--,1):(s=!1,r<i&&(i=r));if(s){t.splice(c--,1);var l=o();void 0!==l&&(e=l)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[a,o,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};n.t=function(a,o){if(1&o&&(a=this(a)),8&o)return a;if("object"===typeof a&&a){if(4&o&&a.__esModule)return a;if(16&o&&"function"===typeof a.then)return a}var r=Object.create(null);n.r(r);var i={};t=t||[null,e({}),e([]),e(e)];for(var s=2&o&&a;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((function(t){i[t]=function(){return a[t]}}));return i["default"]=function(){return a},n.d(r,i),r}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,a){return n.f[a](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+(461===t?"webfontloader":t)+"-legacy."+{93:"8aec495c",243:"0e907614",431:"ebc8dbd1",461:"e71ed086",858:"7b9a38a5"}[t]+".js"}}(),function(){n.miniCssF=function(t){return"css/"+{143:"app",998:"chunk-vendors"}[t]+"."+{143:"73712b6f",998:"5fc8d51b"}[t]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="wis2box-ui:";n.l=function(a,o,r,i){if(t[a])t[a].push(o);else{var s,u;if(void 0!==r)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var d=l[c];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==e+r){s=d;break}}s||(u=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+r),s.src=a),t[a]=[o];var f=function(e,n){s.onerror=s.onload=null,clearTimeout(m);var o=t[a];if(delete t[a],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(t){return t(n)})),e)return e(n)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var t={143:0};n.f.j=function(e,a){var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)a.push(o[2]);else{var r=new Promise((function(n,a){o=t[e]=[n,a]}));a.push(o[2]=r);var i=n.p+n.u(e),s=new Error,u=function(a){if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var r=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",s.name="ChunkLoadError",s.type=r,s.request=i,o[1](s)}};n.l(i,u,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,r,i=a[0],s=a[1],u=a[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(u)var c=u(n)}for(e&&e(a);l<i.length;l++)r=i[l],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(c)},a=self["webpackChunkwis2box_ui"]=self["webpackChunkwis2box_ui"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(2315)}));a=n.O(a)})();
//# sourceMappingURL=app-legacy.9f367cdc.js.map